# SupportHub Production Environment Variables
# Copy this file to .env and configure with your production values

# ================================
# REQUIRED - Database Configuration
# ================================

# Production PostgreSQL connection string with SSL
# IMPORTANT: Always use SSL in production (sslmode=require)

# AWS RDS Example:
# DATABASE_URL=postgresql://dbuser:password@supporthub-db.region.rds.amazonaws.com:5432/supporthub?sslmode=require

# Digital Ocean Managed Database Example:
# DATABASE_URL=postgresql://doadmin:password@supporthub-db-do-user-123456-0.db.ondigitalocean.com:25060/defaultdb?sslmode=require

# Azure Database for PostgreSQL Example:
# DATABASE_URL=postgresql://dbadmin@server:password@server.postgres.database.azure.com:5432/postgres?sslmode=require

# Google Cloud SQL Example:
# DATABASE_URL=postgresql://postgres:password@10.1.2.3:5432/supporthub?sslmode=require

# Supabase Example:
# DATABASE_URL=postgresql://postgres:password@db.project.supabase.co:5432/postgres?sslmode=require

# Self-hosted with SSL:
DATABASE_URL=postgresql://username:password@your-db-host:5432/supporthub?sslmode=require

# ================================
# REQUIRED - Security Configuration
# ================================

# Session secret - CRITICAL: Use a strong, unique secret in production
# Generate with: openssl rand -base64 64
SESSION_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_IN_PRODUCTION_AT_LEAST_64_CHARACTERS

# ================================
# REQUIRED - Production Settings
# ================================

# Environment
NODE_ENV=production

# Application port
PORT=5000

# Trust proxy (REQUIRED when behind nginx/load balancer)
TRUST_PROXY=1

# ================================
# EMAIL CONFIGURATION
# ================================

# SendGrid for email notifications
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
VERIFIED_SENDER_EMAIL=noreply@yourdomain.com

# ================================
# OPTIONAL - External Services
# ================================

# Twilio for SMS (optional)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ================================
# SECURITY & MONITORING
# ================================

# CORS origin (your domain)
CORS_ORIGIN=https://yourdomain.com

# Log level for production
LOG_LEVEL=info

# ================================
# CLOUD PROVIDER SPECIFIC
# ================================

# Docker Internal Database (if using compose.internal-db.yml)
DB_PASSWORD=secure_password_123_change_this

# AWS Secrets Manager (optional)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# Azure Key Vault (optional)
# AZURE_CLIENT_ID=your_client_id
# AZURE_CLIENT_SECRET=your_client_secret
# AZURE_TENANT_ID=your_tenant_id

# Google Cloud (optional)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ================================
# PRODUCTION CHECKLIST
# ================================

# Before deploying to production, ensure:
# ✅ SESSION_SECRET is changed to a strong random value
# ✅ DATABASE_URL includes ?sslmode=require
# ✅ TRUST_PROXY=1 is set when behind a reverse proxy
# ✅ CORS_ORIGIN is set to your domain
# ✅ All default passwords are changed
# ✅ SSL/HTTPS is properly configured
# ✅ Firewall rules are in place
# ✅ Regular backups are scheduled